apiVersion: v1
kind: Service
metadata:
  name: nginx-node-port
spec:
  type: NodePort
  ports:
    - name: nginx
      port: 80
      targetPort: 80
      nodePort: 31000
  selector:
    app: nginx-ingress
    component: "controller"
---
apiVersion: v1
kind: Service
metadata:
  name: postgres-node-port
spec:
  type: NodePort
  ports:
    - name: postgres
      port: 5432
      targetPort: 5432
      nodePort: 32000
  selector:
    component: postgres
---
apiVersion: v1
kind: Service
metadata:
  name: api-node-port
spec:
  type: NodePort
  ports:
    - name: api
      port: 5000
      targetPort: 5000
      nodePort: 32010
  selector:
    component: api
---
apiVersion: v1
kind: Service
metadata:
  name: client-node-port
spec:
  type: NodePort
  ports:
    - name: client
      port: 5001
      targetPort: 5001
      nodePort: 32020
  selector:
    component: client
